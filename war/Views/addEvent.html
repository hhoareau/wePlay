<ion-view view-title="Choose en event" ng-controller="addEventCtrl" hide-nav-bar="true">
    <ion-content>

        {{message}}<br>

            <div class="item item-input-inset">
                <label class="item-input-wrapper" focus-me>
                    <input placeholder="{{ 'ADDEVENT.TITLE' | translate }}"
                           type="text" style="text-align:left;"
                           ng-model="event.title" autofocus
                           ng-change="onChangePicture()">
                </label>

                <button class="button button-small icon-left ion-save button-positive"
                        style="margin-top: 4px;" ng-click="sendEvent()">
                    {{'ADDEVENT.SAVE' | translate}}
                </button>
            </div>

            <div class="item" style="text-align: center;">
                    <ng-map center="[48.0,2.0]" data-tap-disabled="true"></ng-map>
                    <button style="display:block;position:absolute;left:10px;top:10px;" class="button button-icon ion-search" ng-click="search()"></button>
            </div>

        <div class="list">
            <label class="item item-input">
                <input id="pac-input" type="text" placeholder="{{'ADDEVENT.ADDRESS' | translate }}" ng-model="event.address" my-enter="searchAddress()">
            </label>

            <label class="item item-input">
                <span class="input-label">{{'ADDEVENT.START' | translate }}&nbsp;</span>
                <input type="date" ng-model="event.dtStart" ng-change="onChangePicture()"><br>
            </label>


            <label class="item item-input">
                <span class="input-label">{{'ADDEVENT.APARTIRDE' | translate}}</span>
                <input type="number" max="24" min="0" ng-model="event.hour" ng-change="onChangePicture()">
            </label>

            <label class="item item-input">
                <input placeholder="{{'ADDEVENT.DESCRIPTION' | translate}}" ng-model="event.description" type="text">
            </label>


            <label class="item item-input">
                <input placeholder="{{'ADDEVENT.PASSWORD' | translate}}" ng-model="event.password" type="text">
            </label>




            <div class="card">
                <div class="item item-divider">Flyer</div>
                <div class="item" ng-show="event.flyer.length>0">
                    <img style="margin-top:10px;max-width: 300px;max-height: 300px;" ng-src="{{event.flyer}}"></img>
                </div>
                <div class="item item-image" style="text-align: center">
                    <ion-checkbox class="text-left"
                                  ng-model="event.autoflyer"
                                  ng-change="onChangePicture()">Auto</ion-checkbox>

                    <imgfiles on-select="getFlyer(photo)"></imgfiles>
                </div>
            </div>


            <ion-item>
                <ion-title>Advanced</ion-title>

                <label class="item item-input">
                    <input placeholder="{{'ADDEVENT.WEBSITE' | translate}}" ng-model="event.website" type="url">
                </label>

                <div class="item range">
                    <span class="input-label">{{ 'ADDEVENT.SONGSBYDEFAULT' | translate }}</span>
                    <input type="range" min="0" max="30" step="1" ng-model="nsongs">&nbsp;{{nsongs}}
                    <span class="input-label">&nbsp;{{ 'ADDEVENT.LABELSONG' | translate }}</span>
                </div>

                <div class="item range">
                    <span class="input-label">{{ 'ADDEVENT.DURATION' | translate }}</span>
                    <input type="range" min="0" max="24" step="1" name="volume" ng-model="event.duration" ng-change="onChangePicture()">&nbsp;{{event.duration}}
                    <span class="input-label">&nbsp;hours</span>
                </div>

                <div class="item range">
                    <span class="input-label">{{ 'ADDEVENT.VISIBLE' | translate }}</span>
                    <input ng-model="event.minDistance" type="range" max="30000" min="0" step="200">&nbsp;{{event.minDistance/1000}}&nbsp;km
                </div>

                <div class="item range">
                    <span class="input-label">{{ 'ADDEVENT.MAXGUEST' | translate }}</span>
                    <input ng-model="event.maxOnline" type="range" min="0" max="500" step="1">&nbsp;{{event.maxOnline}}&nbsp;personnes
                </div>
            </ion-item>

            <ion-item>
                <ion-title>Sources</ion-title>
                <ion-checkbox ng-repeat="item in srcList"
                              ng-model="item.checked"
                              ng-checked="item.checked">
                    {{ item.text }}
                </ion-checkbox>
            </ion-item>
            <br>

            <button class="button icon-left ion-save button-positive" ng-click="sendEvent()">
                {{'ADDEVENT.SAVE' | translate}}
            </button>

        </div>


    </ion-content>
    </ion-view>